server:
  port: 9005

spring:
   application:
    name: zncloud-gateway
   datasource:
     type: com.zaxxer.hikari.HikariDataSource
     url: jdbc:mysql://127.0.0.1:3306/oauth2test?characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=false&serverTimezone=UTC
     username: root
     password: jiang@2020
     driver-class-name: com.mysql.jdbc.Driver
   cloud:
     gateway:
       discovery:
         locator:
           enabled: true #开启从注册中心动态创建路由的功能，利用微服务名进行路由
#         routes:
#           filters:
#             - name: Hystrix # Hystrix Filter的名称、设置成默认的
#               args: # Hystrix 配置参数
#                 name: fallbackcmd # HystrixCommand 的名字
#                 fallbackUri: forward:/fallback # fallback对用的uri
         #- id: user_routh  #路由的ID，没有固定规则但要求唯一，建议配合服务名
         #uri: lb://mservicecloud-user #匹配后提供服务的路由地址
           #predicates:
           #- Path=/*/*/** # 断言，路径相匹配的进行路由
           lower-case-service-id: true

mybatis-plus:
  #默认扫描mapper.xml的目录
  mapper-locations: classpath*:/mapper/**/*.xml

eureka:
  client: #客户端注册进eureka服务列表内
    service-url:
      defaultZone: http://localhost:7001/eureka
    register-with-eureka: true
    fetch-registry: true
  #       defaultZone: http://eureka7001.com:7001/eureka/,http://eureka7002.com:7002/eureka/,http://eureka7003.com:7003/eureka/
  instance:
    instance-id: zncloud-gateway-service
    prefer-ip-address: true     #访问路径可以显示IP地址

# Hystrix 配置
#hystrix:
#  command:
#    default:
#      execution:
#        isolation:
#          thread:
#            timeoutInMilliseconds: 6000
#    fallbackcmd:
#      execution:
#        isolation:
#          thread:
#            timeoutInMilliseconds: 20000 # Hystrix 的 fallbackcmd 时间
#  threadpool:
#    default:
#      coreSize: 100 # Hystrix 更改默认并发数配置
